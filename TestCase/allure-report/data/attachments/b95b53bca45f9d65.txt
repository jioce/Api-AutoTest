用例编号: 4
用例请求的URL地址: http://139.198.9.112:9090/api/v1/namespaces/test-project/persistentvolumeclaims
用例使用的请求数据: {'apiVersion': 'v1', 'kind': 'PersistentVolumeClaim', 'metadata': {'namespace': 'test-project', 'name': 'test@volume1', 'labels': {}, 'annotations': {'kubesphere.io/creator': 'admin'}}, 'spec': {'accessModes': ['ReadWriteOnce'], 'resources': {'requests': {'storage': '10Gi'}}, 'storageClassName': 'csi-standard'}, 'create_way': 'storageclass'}
用例模块: 存储管理-存储卷
用例标题: 创建存储卷时输入不符合规则的存储卷名称(包含符号@)
用例的请求方式: post
用例优先级: normal
用例的校验条件: r.json()['message']
用例的实际结果: PersistentVolumeClaim "test@volume1" is invalid: metadata.name: Invalid value: "test@volume1": a DNS-1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*')
用例的预期结果: PersistentVolumeClaim "test@volume1" is invalid: metadata.name: Invalid value: "test@volume1": a DNS-1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*')
